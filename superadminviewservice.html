<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="author" content="wpoceans">

    <meta name="keywords" content="church, online church,virtual church,god,pastor chris,christ embassy,evangelism,cyber evangelism,online church services" />
    <meta name="IMM" content="Church" />

    <meta property="og:image" content="assetss/images/vcp_splash.png" />
    <meta property="og:title" content="VCP - Watch live services" />
    <meta property="og:type" content="website" />

    <title>Super Admin View Service !</title>
    <!-- Favicon and Touch Icons -->
    <link href="assetss/images/favicon.png" rel="shortcut icon" type="image/png">

    <link href="assetss/css/themify-icons.css" rel="stylesheet">
    <link href="assetss/css/font-awesome.min.css" rel="stylesheet">
    <link href="assetss/css/flaticon.css" rel="stylesheet">
    <link href="assetss/css/bootstrap.min.css" rel="stylesheet">
    <link href="assetss/css/animate.css" rel="stylesheet">
    <link href="assetss/css/owl.carousel.css" rel="stylesheet">
    <link href="assetss/css/owl.theme.css" rel="stylesheet">
    <link href="assetss/css/slick.css" rel="stylesheet">
    <link href="assetss/css/slick-theme.css" rel="stylesheet">
    <link href="assetss/css/swiper.min.css" rel="stylesheet">
    <link href="assetss/css/owl.transitions.css" rel="stylesheet">
    <link href="assetss/css/jquery.fancybox.css" rel="stylesheet">
    <link href="assetss/css/odometer-theme-default.css" rel="stylesheet">
    <link href="assetss/css/nice-select.css" rel="stylesheet">
    <link href="assetss/css/style.css" rel="stylesheet">
    <link href="https://unpkg.com/nprogress@0.2.0/nprogress.css" rel="stylesheet">
    <link rel="stylesheet" href="assetss/compiled/flipclock.css">



    <script>
    </script>

    <link href='https://unpkg.com/video.js/dist/video-js.css' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="https://unpkg.com/video.js/dist/video.js"></script>
    <script type="text/javascript" src="https://unpkg.com/videojs-contrib-hls/dist/videojs-contrib-hls.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <style>
        .video-js-responsive-container.vjs-hd {
            padding-top: 56.25%;
        }
        
        .video-js-responsive-container.vjs-sd {
            padding-top: 75%;
        }
        
        .video-js-responsive-container {
            width: 100%;
            position: relative;
        }
        
        .video-js-responsive-container .video-js {
            height: 100% !important;
            width: 100% !important;
            position: absolute;
            top: 0;
            left: 0;
        }
    </style>
    <!-- start page-wrapper -->
    <div class="page-wrapper">
        <!-- start preloader -->
        <div class="preloader">
            <div class="sk-folding-cube">
                <div class="sk-cube1 sk-cube"></div>
                <div class="sk-cube2 sk-cube"></div>
                <div class="sk-cube4 sk-cube"></div>
                <div class="sk-cube3 sk-cube"></div>
            </div>
        </div>
        <!-- end preloader -->
        <!-- Start header -->
        <header id="header" class="wpo-site-header wpo-header-style-3">
            <div class="topbar">
                <div class="container">
                    <div class="row">
                        <div class="col col-md-6 col-sm-7 col-12">
                            <div class="contact-intro">
                                <ul>
                                    <!--<li><i class="fi flaticon-call"></i>+234 818 905 2626</li>-->
                                    <!--<li><i class="fi flaticon-envelope"></i> admin@loveworld360.com</li>-->
                                    <li><i class="fi flaticon-user"></i> Hello <span id="full_name"></span> |
                                        <span class="church_name">Super Admin</span></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col col-md-6 col-sm-5 col-12">
                            <div class="contact-info">
                                <ul id="contact-info">
                                    <li class="theme-btn btn-info"><a href="/superadminbackend.html" style="padding:10px;color:white;text-align:center">All Services </a></li>

                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end topbar -->
            <!--<nav class="navigation navbar navbar-default">-->
            <!--<div class="container">-->
            <!--<div class="navbar-header" style="width: 100%;">-->
            <!--<button type="button" class="open-btn">-->
            <!--<span class="sr-only">Toggle navigation</span>-->
            <!--<span class="icon-bar"></span>-->
            <!--<span class="icon-bar"></span>-->
            <!--<span class="icon-bar"></span>-->
            <!--</button>-->
            <!--<a class="navbar-brand" href="index.html"><img src="assetss/images/logo-2.png" alt="logo"></a>-->
            <!--<div style="margin-top: 4%; font-weight: 700; color: #062265; font-size: 16px;" ">| <span class="church_name"></span></div>-->

            <!--<div id="navbar" class="navbar-collapse collapse navbar-right navigation-holder">-->
            <!--<button class="close-navbar"><i class="ti-close"></i></button>-->
            <!--<ul class="nav navbar-nav">-->
            <!--<li><a href="#">Home</a></li>-->
            <!--<li><a href="https://adm.cevirtualchurch.org" target="_blank">Admin Section</a></li>-->

            <!--</ul>-->
            <!--</div>&lt;!&ndash; end of nav-collapse &ndash;&gt;-->
            <!--</div>&lt;!&ndash; end of container &ndash;&gt;-->
            <!--&lt;!&ndash; end of container &ndash;&gt;-->
            <!--</nav>-->
        </header>
        <!-- end of header -->
        <!-- .wpo-breadcumb-area start -->
        <div class="wpo-breadcumb-area">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="wpo-breadcumb-wrap">
                            <h2 id="church_name">Watch Live!</h2>
                            <!--<ul>-->
                            <!--<li><a href="index.html">Home</a></li>-->
                            <!--<li><span>About</span></li>-->
                            <!--</ul>-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- .wpo-breadcumb-area end -->
        <!-- wpo-about-video-area start -->
        <div class="wpo-about-video-area">
            <div class="container">
                <div class="row">
                    <div class="col col-md-6 col-md-offset-3">





                        <div class="wpo-about-video-item wpo-about-img">
                            <!--<div class="wpo-about-video-img">-->
                            <!--<img src="assetss/images/live_video_pix.jpg" alt="">-->

                            <div id="clock-div" style="display: none;" align="center">

                                <div class="alert alert-info">
                                    <h4><span id="meeting_title"></span></h4>
                                </div>
                                <h2 style="text-align: center">Starts In:</h2>
                                <br />
                                <br />
                                <div class="clock" style="width:100%;"></div>
                            </div>

                            <div id="video-div">




                                <div class="center" style="padding:250px">
                                    <i class="fa fa-spinner fa-spin"></i>
                                </div>

                            </div>
                            <!--</div>-->
                            <h2 id="meetingName" style="text-align: center"></h2>
                            <h4 id="meetingScript" style="text-align:center;color: #3e3e3e; font-weight: 400;
                                max-height: 400px;overflow-x: hidden;overflow: scroll"></h4>
                        </div>
                    </div>





                </div>
            </div>



        </div>


        <div class="wpo-ne-footer">
            <!-- start wpo-site-footer -->
            <footer class="wpo-site-footer">
                <div class="wpo-lower-footer">
                    <div class="container">
                        <div class="row">
                            <div class="col col-xs-12">
                                <a href="/change-church.html">
                                    <p class="btn btn-warning">Change Church</p>
                                </a>
                            </div>
                        </div>
                        <div class="col col-xs-12">
                            <p class="copyright">&copy; 2020 Christ Embassy. All Rights Reserved ver1.1</p>
                        </div>
                    </div>
                </div>

            </footer>
            <!-- end wpo-site-footer -->
        </div>
    </div>





    <!-- end of page-wrapper -->
    <!-- All JavaScript files
    ================================================== -->

    <script>
    </script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-106770506-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-106770506-2');
    </script>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-analytics.js"></script>


    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->

    <script>
        // Your web app's Firebase configuration
    </script>




    <script src="assetss/js/jquery.min.js"></script>
    <script src="assetss/compiled/flipclock.js"></script>
    <script src="https://vjs.zencdn.net/7.3.0/video.js"></script>
    <script src="assetss/js/bootstrap.min.js"></script>
    <!-- Plugins for this template -->
    <script src="assetss/js/jquery-plugin-collection.js"></script>
    <!-- Custom script for this template -->
    <script src="assetss/js/script.js"></script>
    <script src="https://unpkg.com/nprogress@0.2.0/nprogress.js"></script>

    <script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.13.2/firebase-database.js"></script>
    <script src="assetss/js/notify.js"></script>



    <script>
        serviceDetails();

        function getUrlParameter(sParam) {
            var sPageURL = window.location.search.substring(1),
                sURLVariables = sPageURL.split('&'),
                sParameterName,
                i;

            for (i = 0; i < sURLVariables.length; i++) {
                sParameterName = sURLVariables[i].split('=');

                if (sParameterName[0] === sParam) {
                    return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
                }
            }
        };

        function serviceDetails() {


            var churchID = getUrlParameter('meeting');
            var church_name = getUrlParameter('name');

            $("#church_name").html(church_name);



            NProgress.start();



            var offline = '<li><a href="/login">Login</a></li> <li><a href="/register">Sign Up</a></li><li><a ' +
                'class="theme-btn">Next Service</a></li>'
            var online =
                '<li class="theme-btn btn-info"><a href="https://adm.cevirtualchurch.org/admin-login" target="_blank" style="color:white;text-align: ' +
                'center">Admin Section</a></li><li class="theme-btn" id="logout-btn"><a href="#" onclick="logout()" style="color:white;text-align: ' +
                'center">Logout</a>'



            var formData = {
                'meetingID': churchID,
                'groupAttendance': 1,
            };

            $.ajax({
                type: 'POST', // define the type of HTTP verb we want to use (POST for our form)
                url: 'https://api.cevirtualchurch.org/services/loadservicedetails', // the url where we want to POST
                data: formData,
                dataType: 'json', // what type of data do we expect back from the server
                encode: true
            })

            //
            // using the done promise callback
            .done(function(data) {

                //
                if (data.status) {


                    const datar = data.data.paymentDetails;



                    localStorage.setItem('paymentdetails', JSON.stringify(datar));

                    // console.log(data.data.meetingDetails.meetingName)

                    var meetingName = data.data.meetingDetails.meetingName
                    var meetingType = data.data.meetingDetails.meetingType
                    var meetingID = data.data.meetingDetails.meetingID
                    var script = data.data.meetingDetails.script;


                    $("#meetingName").html(meetingName);
                    $("#meetingScript").html(script);


                    if (meetingType == "archive") {
                        var media = data.data.meetingDetails.media[0].path;
                        $("#video-div").html('<div class="video-js-responsive-container vjs-hd"><video id="my_video_1" data-setup="{\'fluid\': true}" autoplay style="width:100%" class="video-js vjs-big-play-centered" controls style="margin-top: 2% !important;"><source src="' + media + '"> Your browser does not support HTML5 video.</video></div>');
                        var player = videojs('my_video_1');
                        //player.pause();
                        player.play();
                    } else {
                        var media = data.data.meetingDetails.streamURL;

                        $("#video-div").html('<div class="video-js-responsive-container vjs-hd"><video style="width:100%" id="my_video_1" class="video-js vjs-big-play-centered" controls   preload="auto"  data-setup="{\'fluid\': true}"><source src="' + media + '" type="application/x-mpegURL"> </video></div>')

                        var player = videojs('my_video_1');
                        //player.pause();
                        player.play();
                    }

                    NProgress.done();



                } else {

                    NProgress.done();


                    $("#video-div").html("<div style='margin-top:100px' class='alert alert-info'>No Active Service</div>");



                }

                // here we will handle errors and validation messages
            });
        }
    </script>


    <!--- Salvation script starts here-->
    <script>
    </script>


    <script>
        function logout() {

            //alert("I was clcked");
            localStorage.removeItem('authuser');
            window.location.href = "/login.html";
        }
    </script>


</body>

</html>